# Режим пониженного энергопотребления
Микроконтроллер STM32L151 имеет несколько режимов пониженного энергопотребления.
Режим нужен такой, что бы можно было работать с таймерами. Таймер по 
прерыванию выводил бы МК из пониженого потребления. 
Таймер RTC wakeup не годится, его нельзя перепрограмировать без останова, но 
только таймер wakeup может пробудить МК из глубоких режимов сна.
Лучше всего нам подходит режим Low power run mode. Он умеренно потребляет 
ток при рабочем таймере. 
Вход в режим LPRM производит neos. Код IDLE циклично проверяет MCU что он 
наодится в режиме LPRM. 
Любое возникшее прерывание переводит МК в режим RUN_MODE (MSI = 4.2 МГц) 
после выхода из прерывания код IDLE увидит что частота изменилась
и завершится, разблокировав планировщик задач.


## Sleep mode
Остановлен только CPU. Переферия продолжает работать.
Ток потребления Fmsi=65 кГц 60 мка. Fmsi=4.2 Мгц 250 мка.
Время пробуждения 0.36 мкс.
IM10LPEN 
SYSCFGLPEN смотри док. активность таймеров во время сна

## Low power run mode
Тактирование CPU осуществляется от MSI на минимальной частоте 65 кГц.
Внутриний регулятор находится в режиме пониженого энергопотребления
Типовое потреблении 24 мка (32 макс.) при работе с флешпамяти.


## Low power sleep mode
MSI = 65 кГц, флеш выключена. Ток потребления 4.4 мка.
MSI = 65 кГц, флеш включена.  Ток потребления 17.5 мка.
Время пробуждения 34 мкс.


## Stop mode with RTC, Stop mode without RTC
Совсем не подходит.

## Standby mode with RTC, Standby mode without RTC
Совсем не подходит.

## Время стабилизации генераторов
HSI 3.7 мкс(typ), 6 мкс (max)  
LSI 200 мкс (max)

Время включения:
MSI range 0 30 мкс
MSI range 5 5  мкс

Время стабилизации:
MSI range 0 40 мкс
MSI range 5 2  мкс

## Токи потребления в различный режимах Run mode.
MSI = 65  кГц 50  мкА
MSI = 4.2 МГц 900 мкА
HSI = 16  Мгц 4 ма

